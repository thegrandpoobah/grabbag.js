(function(e){function r(r,i,s){var o=i.namespace===""?"":"."+i.namespace,u=e.map(t,function(e){return e+n+i.guid+o});e(r).parents().add(window)[s](u.join(" "),i.handler)}var t=["scroll","mousewheel","wheel","DOMMouseScroll"],n=".ancestorpluginguid";e.event.special.ancestorscroll={add:function(e){r(this,e,"bind")},remove:function(e){r(this,e,"unbind")}}})(jQuery),function(e,t){function s(t){var n=t[e.expando];delete t[e.expando];var r=e.event.fix(t);return r.type="captured"+t.type,r.originalEvent=t,r.originalTarget=t.target,t[e.expando]=n,r}var n=["mousedown"],r={},i=e(window);e.each(n,function(n,i){r[i]=[],r[i].peek=function(){return this[this.length-1]},e.event.special[i]={add:function(n){var o=n.handler;n.handler=function(n){var u,a,f;return(r[i]||[]).length>0?(f=e(n.originalEvent),f.data("executedCapture")||(f.data("executedCapture",!0),e.browser.msie?n.originalEvent[e.expando]=t:delete n.originalEvent[e.expando],a=s(n),r[i].peek().element.trigger(a),u=a.result),n.isPropagationStopped()||(u=o.apply(this,arguments)),u):o.apply(this,arguments)}}}}),window.captureEvent=function(t,n,o){var u=r[t];if(typeof u=="undefined")return;u.length>0&&u.peek().element.unbind("captured"+t+".capturingTool"),u.push({element:e(n),handler:o}),e.isFunction(o)&&u.peek().element.bind("captured"+t+".capturingTool",o),u.length===1&&i.bind(t+".capturingTool",function(t){u.length!==0&&!e(t.originalEvent).data("executedCapture")&&u.peek().element.trigger(s(t))})},window.releaseEvent=function(t){var n;if((r[t]||{length:0}).length===0)return;n=r[t].pop(),n.element.unbind("captured"+t+".capturingTool"),r[t].length===0?i.unbind(t+".capturingTool"):(n=r[t].peek(),e.isFunction(n.handler)&&n.element.bind("captured"+t+".capturingTool",n.handler))}}(jQuery),function(e){function r(e){var t;e=e||document.body,t=typeof e,t==="string"?n.style.font=e:t==="object"&&(e.nodeType&&(e.currentStyle?e=e.currentStyle:e=document.defaultView.getComputedStyle(e,null)),s(e)),document.body.appendChild(n)}function i(){var e,r;document.body.removeChild(n),n.style.font="inherit";for(e=0,r=t.length;e<r;++e)n.style[t[e]]=""}function s(e){var r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r],n.style[s]=e[s]}function o(e){function t(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return n.innerHTML=t(e),bounds=n.getBoundingClientRect(),{width:bounds.width?bounds.width:bounds.right-bounds.left,height:bounds.height?bounds.height:bounds.bottom-bounds.top}}var t="fontFamily fontSize fontStyle fontVariant fontWeight".split(" "),n=document.createElement("div");n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.position="absolute",String.prototype.measure=function(e){var t;return r(e),t=o(this.toString()),i(),t},String.bulkMeasure=function(e,t){var n,s,u=[];r(t);for(n=0,s=e.length;n<s;++n)u.push(o(e[n]));return i(),u},String.prototype.crop=function(e,t){var n,s,u,a=this.toString(),f;r(t),f=o(a).width;if(f>e){n=0,s=this.length;do u=n+Math.ceil((s-n)/2),a=this.substring(0,u)+"...",f=o(a).width,f>e?s=u:n=u;while(s-n>1)}return n===0&&s===1&&f>e&&(a=""),i(),a}}(),function(e,t){var n=1,r=[];window.zManager={add:function(n,i){var s=this._find(n),o;s!==null&&(o=r.splice(s,1)[0]),o?o.layer=0:o={element:n,layer:0,unmanagedIndex:e(n).css("z-index")},typeof i=="undefined"?(r.push(o),this._updateZIndexes(r.length-1)):(r.splice(i,0,o),this._updateZIndexes(i))},remove:function(n){var i=this._find(n);i!==null&&(e(n).css("z-index",r[i].unmanagedIndex),r.splice(i,1))},bringToFront:function(t){this.add(t)},moveToBack:function(t){this.add(t,0)},maxZIndex:function(){return r[r.length-1].layer},_find:function(n){var i=null;return e.each(r,function(e,t){if(t.element===n)return i=e,!1}),i},_updateZIndexes:function(i){var s,o,u,a=!0;s=r[i],i!==0?o=r[i-1]:o={layer:n-1},i!==r.length-1&&(u=r[i+1]);while(s){if(s.layer<=o.layer||a)s.layer=o.layer+1,e(s.element).css("z-index",s.layer),a=!1;if(u&&u.layer>s.layer)break;o=s,s=u,i++,i!==r.length-1?u=r[i+1]:u=null}}}}(jQuery)