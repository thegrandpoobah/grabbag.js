window.grabbag={},function(e){"use strict";function r(r,i,s){var o=i.namespace===""?"":"."+i.namespace,u=e.map(t,function(e){return e+n+i.guid+o});e(r).parents().add(window)[s](u.join(" "),i.handler)}if(!jQuery)return;var t=["scroll","mousewheel","wheel","DOMMouseScroll"],n=".ancestorpluginguid";e.event.special.ancestorscroll={add:function(e){r(this,e,"bind")},remove:function(e){r(this,e,"unbind")}}}(jQuery),function(e,t){"use strict";function s(t){var n=t[e.expando];delete t[e.expando];var r=e.event.fix(t);return r.type="captured"+t.type,r.originalEvent=t,r.originalTarget=t.target,t[e.expando]=n,r}if(!jQuery)return;var n=["mousedown"],r={},i=e(window);e.each(n,function(n,i){r[i]=[],r[i].peek=function(){return this[this.length-1]},e.event.special[i]={add:function(n){var o=n.handler;n.handler=function(n){var u,a,f;return(r[i]||[]).length>0?(f=e(n.originalEvent),f.data("executedCapture")||(f.data("executedCapture",!0),e.browser.msie?n.originalEvent[e.expando]=t:delete n.originalEvent[e.expando],a=s(n),r[i].peek().element.trigger(a),u=a.result),n.isPropagationStopped()||(u=o.apply(this,arguments)),u):o.apply(this,arguments)}}}}),grabbag.event={capture:function(n,o,u){var a=r[n];if(typeof a=="undefined")return;a.length>0&&a.peek().element.unbind("captured"+n+".capturingTool"),a.push({element:e(o),handler:u}),e.isFunction(u)&&a.peek().element.bind("captured"+n+".capturingTool",u),a.length===1&&i.bind(n+".capturingTool",function(t){a.length!==0&&!e(t.originalEvent).data("executedCapture")&&a.peek().element.trigger(s(t))})},release:function(n){var s;if((r[n]||{length:0}).length===0)return;s=r[n].pop(),s.element.unbind("captured"+n+".capturingTool"),r[n].length===0?i.unbind(n+".capturingTool"):(s=r[n].peek(),e.isFunction(s.handler)&&s.element.bind("captured"+n+".capturingTool",s.handler))}}}(jQuery),function(e){"use strict";function r(e){var t;e=e||document.body,t=typeof e,t==="string"?n.style.font=e:t==="object"&&(e.nodeType&&(e.currentStyle?e=e.currentStyle:e=document.defaultView.getComputedStyle(e,null)),s(e)),document.body.appendChild(n)}function i(){var e,r;document.body.removeChild(n),n.style.font="inherit";for(e=0,r=t.length;e<r;++e)n.style[t[e]]=""}function s(e){var r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r],n.style[s]=e[s]}function o(e){function t(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}n.innerHTML=t(e);var r=n.getBoundingClientRect();return{width:r.width?r.width:r.right-r.left,height:r.height?r.height:r.bottom-r.top}}var t="fontFamily fontSize fontStyle fontVariant fontWeight".split(" "),n=document.createElement("div");n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.position="absolute",grabbag.measure={string:function(t,n){var s;return r(n),s=o(t.toString()),i(),s},strings:function(t,n){var s,u,a=[];r(n);for(s=0,u=t.length;s<u;++s)a.push(o(t[s]));return i(),a},crop:function(t,n,s,u){var a,f,l,c=t.toString(),h;u||(u="..."),r(s),h=o(c).width;if(h>n){a=0,f=t.length;do l=a+Math.ceil((f-a)/2),c=t.substring(0,l)+u,h=o(c).width,h>n?f=l:a=l;while(f-a>1)}return a===0&&f===1&&h>n&&(c=""),i(),c}}}(),function(e,t){"use strict";function i(t){var i,s,o,u=!0;i=r[t],t!==0?s=r[t-1]:s={layer:n-1},t!==r.length-1&&(o=r[t+1]);while(i){if(i.layer<=s.layer||u)i.layer=s.layer+1,e(i.element).css("z-index",i.layer),u=!1;if(o&&o.layer>i.layer)break;s=i,i=o,t++,t!==r.length-1?o=r[t+1]:o=null}}function s(t){var n=null;return e.each(r,function(e,r){if(r.element===t)return n=e,!1}),n}var n=1,r=[];grabbag.zManager={add:function(n,o){var u=s(n),a;u!==null&&(a=r.splice(u,1)[0]),a?a.layer=0:a={element:n,layer:0,unmanagedIndex:e(n).css("z-index")},typeof o=="undefined"?(r.push(a),i(r.length-1)):(r.splice(o,0,a),i(o))},remove:function(n){var i=s(n);i!==null&&(e(n).css("z-index",r[i].unmanagedIndex),r.splice(i,1))},bringToFront:function(t){this.add(t)},moveToBack:function(t){this.add(t,0)},maxZIndex:function(){return r[r.length-1].layer}}}(jQuery)